{"version":3,"sources":["scripts/views/guide/index.js"],"names":["timer","Guide","state","imgs","count","txt","setInterval","setState","console","log","clearInterval","history","push","className","autoplay","dots","beforeChange","from","to","afterChange","index","startCount","this","map","item","key","style","display","width","height","src","alt","onLoad","window","dispatchEvent","Event","length","onClick","toHome","Component"],"mappings":"0RAUIA,EAAM,KACWC,E,YAEjB,aAAc,IAAD,8BACT,+CACKC,MAAQ,CACTC,KAAK,CACD,8MACA,0MACA,iGACA,+MAGJC,MAAM,EACNC,IAAK,mBAXA,E,0EA2BC,IAAD,OACTL,EAAQM,aAAY,WACZ,EAAKJ,MAAME,MAAQ,IACnB,EAAKG,SAAS,CACVH,QAAS,EAAKF,MAAME,MACpBC,IAAI,gBAAD,OAAQ,EAAKH,MAAME,MAAnB,OAGPI,QAAQC,IAAI,QAGb,EAAKP,MAAME,MAAQ,IAClB,EAAKG,SAAS,CACVH,MAAO,IAEXM,cAAcV,GACdQ,QAAQC,IAAI,QAGK,GAAlB,EAAKP,MAAME,QACV,EAAKG,SAAS,CACVH,MAAO,IAEXM,cAAcV,GACdW,IAAQC,KAAK,YAMlB,O,+BAIE,IAAD,OACJ,OACI,yBAAKC,UAAU,SACX,uBACIC,UAAU,EAEVC,MAAQ,EACRC,aAAc,SAACC,EAAMC,GAAP,OAAcV,QAAQC,IAAR,qBAA0BQ,EAA1B,eAAqCC,KACjEC,YAAa,SAAAC,GAAK,OAAa,GAATA,EAAW,EAAKC,aAAa,KAG/CC,KAAKpB,MAAMC,KAAKoB,KAAI,SAACC,EAAKJ,GACtB,OACI,yBACAK,IAAKL,EACLM,MAAO,CAAEC,QAAS,eAAgBC,MAAO,OAAQC,OAAQ,UAErD,yBAAKC,IAAKN,EAAMO,IAAI,GACpBL,MAAO,CAAEE,MAAO,OAAQC,OAAQ,SAChCG,OAAQ,WAEJC,OAAOC,cAAc,IAAIC,MAAM,cAIhCf,GAAO,EAAKlB,MAAMC,KAAKiC,OAAO,GAAG,4BAAQvB,UAAU,QAAQwB,QAAS,EAAKC,QAAxC,IAAkD,EAAKpC,MAAMG,IAA7D,e,GAxFrCkC","file":"static/js/9.0498986a.chunk.js","sourcesContent":["\r\n\r\nimport React, {Component} from \"react\"\r\n\r\nimport \"./index.scss\";\r\nimport {history} from \"~/history\"\r\n\r\n\r\nimport {Carousel,Button} from \"antd-mobile\"\r\n\r\nvar timer=null\r\nexport default class Guide extends Component{\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            imgs:[\r\n                \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575711217&di=9898e98ce20f0ae1140f601e6d7f4096&imgtype=jpg&er=1&src=http%3A%2F%2Fpic6.wed114.cn%2F20160323%2F2016032321244960056935.jpg\",\r\n                \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575116518693&di=97d7a9552e28029899de763eda4cea12&imgtype=0&src=http%3A%2F%2Fpic6.wed114.cn%2F20160406%2F2016040619401430558373.jpg\",\r\n                \"https://ss0.bdstatic.com/70cFuHSh_Q1YnxGkpoWK1HF6hhy/it/u=1840488073,2614305187&fm=26&gp=0.jpg\",\r\n                \"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1575711429&di=ccad81bbe33a84036d3e59385781ef04&imgtype=jpg&er=1&src=http%3A%2F%2Fpic6.wed114.cn%2F20160406%2F2016040619400913159389.jpg\",\r\n            ],\r\n            \r\n            count:5,\r\n            txt: \"跳过 5s\"\r\n        }\r\n    }\r\n    // toHome(e) {\r\n    //     clearInterval(timer);\r\n    //     if (e && e.stopPropagation) {\r\n    //         e.stopPropagation();\r\n    //     }\r\n    //     else {\r\n    //         window.event.cancelBubble = true;\r\n    //     }\r\n     \r\n    //     history.push(\"/main\")\r\n        \r\n    // };\r\n\r\n    startCount() {\r\n        timer = setInterval(() => {\r\n            if (this.state.count > 0) {\r\n                this.setState({\r\n                    count: --this.state.count,\r\n                    txt: `跳过 ${this.state.count}s`\r\n                })\r\n                \r\n                console.log(11111)  \r\n                      \r\n            } \r\n            if(this.state.count < 0){\r\n                this.setState({\r\n                    count: 5,\r\n                })\r\n                clearInterval(timer);\r\n                console.log(22222)\r\n            }\r\n\r\n            if(this.state.count==0){\r\n                this.setState({\r\n                    count: 5,\r\n                })\r\n                clearInterval(timer);\r\n                history.push(\"/main\")\r\n                \r\n            \r\n            }\r\n            \r\n            \r\n        }, 1000);\r\n    }\r\n   \r\n\r\n    render(){\r\n        return (\r\n            <div className=\"guide\">\r\n                <Carousel\r\n                    autoplay={false}\r\n                    \r\n                    dots = {false}\r\n                    beforeChange={(from, to) => console.log(`slide from ${from} to ${to}`)}\r\n                    afterChange={index => index == 3?this.startCount():\"\"}\r\n                >\r\n                    {\r\n                        this.state.imgs.map((item,index)=>{\r\n                            return (\r\n                                <div\r\n                                key={index}\r\n                                style={{ display: 'inline-block', width: '100%', height: \"100vh\" }}\r\n                                >   \r\n                                    <img src={item} alt=\"\" \r\n                                    style={{ width: '100%', height: \"100vh\" }}\r\n                                    onLoad={() => {\r\n                                        // fire window resize event to change height\r\n                                        window.dispatchEvent(new Event('resize'));\r\n                                       \r\n                                    }}  \r\n                                    />\r\n                                      {index==this.state.imgs.length-1&&<button className=\"g-btn\" onClick={this.toHome}> {this.state.txt} </button>}\r\n                                    {/* {index==this.state.imgs.length-1&&<button className=\"g-btn\" onClick={this.gotoMain}> 点击进入主页 </button>} */}\r\n                                </div>\r\n                            )\r\n                        })\r\n                    }\r\n                </Carousel>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n\r\n"],"sourceRoot":""}