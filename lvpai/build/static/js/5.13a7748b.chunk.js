(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[5],{626:function(e,t,n){"use strict";n(20),n(627)},627:function(e,t,n){},628:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=g(n(1)),o=g(n(8)),i=g(n(3)),a=g(n(6)),s=g(n(4)),c=g(n(5)),u=g(n(10)),l=v(n(0)),f=v(n(2)),d=g(n(32)),p=g(n(122)),h=n(87),m=n(629);function v(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){function t(e){(0,i.default)(this,t);var n=(0,s.default)(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.onSubmit=function(e){e.preventDefault(),n.props.onSubmit&&n.props.onSubmit(n.state.value||""),n.inputRef&&n.inputRef.blur()},n.onChange=function(e){n.state.focus||n.setState({focus:!0});var t=e.target.value;"value"in n.props||n.setState({value:t}),n.props.onChange&&n.props.onChange(t)},n.onFocus=function(){n.setState({focus:!0}),n.firstFocus=!0,n.props.onFocus&&n.props.onFocus()},n.onBlur=function(){var e;n.onBlurTimeout=(e=function(){n.blurFromOnClear||document.activeElement!==n.inputRef&&n.setState({focus:!1}),n.blurFromOnClear=!1},window.requestAnimationFrame?window.requestAnimationFrame(e):window.setTimeout(e,1)),n.props.onBlur&&(setTimeout((function(){document.body&&(document.body.scrollTop=document.body.scrollTop)}),100),n.props.onBlur())},n.onClear=function(){n.doClear()},n.doClear=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];n.blurFromOnClear=e,"value"in n.props||n.setState({value:""}),n.props.onClear&&n.props.onClear(""),n.props.onChange&&n.props.onChange(""),e&&n.focus()},n.onCancel=function(){n.props.onCancel?n.props.onCancel(n.state.value||""):n.doClear(!1)},n.focus=function(){n.inputRef&&n.inputRef.focus()};var r=void 0;return r="value"in e?e.value||"":"defaultValue"in e?e.defaultValue:"",n.state={value:r,focus:!1},n}return(0,c.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){if(this.rightBtnRef){var e=window.getComputedStyle(this.rightBtnRef);this.rightBtnInitMarginleft=e.marginLeft}this.componentDidUpdate()}},{key:"componentDidUpdate",value:function(){if(this.syntheticPhRef)if(this.inputContainerRef&&this.inputContainerRef.className.indexOf(this.props.prefixCls+"-start")>-1){if(this.syntheticPhContainerRef){var e=this.syntheticPhContainerRef.getBoundingClientRect().width;this.syntheticPhRef.style.width=Math.ceil(e)+"px"}!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="0")}else this.syntheticPhRef.style.width="100%",!this.props.showCancelButton&&this.rightBtnRef&&(this.rightBtnRef.style.marginRight="-"+(this.rightBtnRef.offsetWidth+(null!=this.rightBtnInitMarginleft?parseInt(this.rightBtnInitMarginleft,10):0))+"px")}},{key:"componentWillReceiveProps",value:function(e){"value"in e&&e.value!==this.state.value&&this.setState({value:e.value})}},{key:"componentWillUnmount",value:function(){var e;this.onBlurTimeout&&(e=this.onBlurTimeout,window.cancelAnimationFrame?window.cancelAnimationFrame(e):window.clearTimeout(e),this.onBlurTimeout=null)}},{key:"render",value:function(){var e,t=this,i=this.props,a=i.prefixCls,s=i.showCancelButton,c=i.disabled,f=i.placeholder,m=i.className,v=i.style,g=i.maxLength,y=(0,h.getComponentLocale)(this.props,this.context,"SearchBar",(function(){return n(630)})).cancelText,S=this.state,C=S.value,_=S.focus,b=(0,u.default)(a,m,(0,o.default)({},a+"-start",!!(_||C&&C.length>0))),R=(0,u.default)(a+"-clear",(0,o.default)({},a+"-clear-show",!!(_&&C&&C.length>0))),T=(0,u.default)(a+"-cancel",(e={},(0,o.default)(e,a+"-cancel-show",!!(s||_||C&&C.length>0)),(0,o.default)(e,a+"-cancel-anim",this.firstFocus),e));return l.createElement("form",{onSubmit:this.onSubmit,className:b,style:v,ref:function(e){return t.inputContainerRef=e},action:"#"},l.createElement("div",{className:a+"-input"},l.createElement("div",{className:a+"-synthetic-ph",ref:function(e){return t.syntheticPhRef=e}},l.createElement("span",{className:a+"-synthetic-ph-container",ref:function(e){return t.syntheticPhContainerRef=e}},l.createElement("i",{className:a+"-synthetic-ph-icon"}),l.createElement("span",{className:a+"-synthetic-ph-placeholder",style:{visibility:f&&!C?"visible":"hidden"}},f))),l.createElement("input",(0,r.default)({type:"search",className:a+"-value",value:C,disabled:c,placeholder:f,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur,ref:function(e){return t.inputRef=e},maxLength:g},(0,p.default)(this.props))),l.createElement(d.default,{activeClassName:a+"-clear-active"},l.createElement("a",{onClick:this.onClear,className:R}))),l.createElement("div",{className:T,onClick:this.onCancel,ref:function(e){return t.rightBtnRef=e}},this.props.cancelText||y))}}]),t}(l.Component);t.default=y,y.defaultProps=m.defaultProps,y.contextTypes={antLocale:f.object},e.exports=t.default},629:function(e,t,n){"use strict";function r(){}Object.defineProperty(t,"__esModule",{value:!0});t.defaultProps={prefixCls:"am-search",placeholder:"",onSubmit:r,onChange:r,onFocus:r,onBlur:r,onClear:r,showCancelButton:!1,disabled:!1}},630:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={cancelText:"\u53d6\u6d88"},e.exports=t.default},632:function(e,t,n){"use strict";n(20),n(34),n(633)},633:function(e,t,n){},634:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=h(n(1)),o=h(n(3)),i=h(n(6)),a=h(n(4)),s=h(n(5)),c=p(n(0)),u=p(n(2)),l=h(n(966)),f=n(87),d=h(n(23));function p(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(){return(0,o.default)(this,t),(0,a.default)(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return(0,s.default)(t,e),(0,i.default)(t,[{key:"render",value:function(){var e=(0,f.getComponentLocale)(this.props,this.context,"PullToRefresh",(function(){return n(635)})),t=e.activateText,o=e.deactivateText,i=e.finishText,a=(0,r.default)({activate:t,deactivate:o,release:c.createElement(d.default,{type:"loading"}),finish:i},this.props.indicator);return c.createElement(l.default,(0,r.default)({},this.props,{indicator:a}))}}]),t}(c.Component);t.default=m,m.defaultProps={prefixCls:"am-pull-to-refresh"},m.contextTypes={antLocale:u.object},e.exports=t.default},635:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={activateText:"\u677e\u5f00\u7acb\u5373\u5237\u65b0",deactivateText:"\u4e0b\u62c9\u53ef\u4ee5\u5237\u65b0",finishText:"\u5b8c\u6210\u5237\u65b0"},e.exports=t.default},966:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),i=n(3),a=n.n(i),s=n(6),c=n.n(s),u=n(4),l=n.n(u),f=n(5),d=n.n(f),p=n(0),h=n.n(p),m=n(10),v=n.n(m),g=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&(n[r[o]]=e[r[o]])}return n},y=function(e){function t(){return a()(this,t),l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return d()(t,e),c()(t,[{key:"shouldComponentUpdate",value:function(e){return e.shouldUpdate}},{key:"render",value:function(){return h.a.createElement("div",null,this.props.render())}}]),t}(h.a.Component);var S="undefined"!==typeof navigator&&/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(navigator.userAgent),C="down",_="up",b={activate:"release",deactivate:"pull",release:"loading",finish:"finish"},R=!1;try{var T=Object.defineProperty({},"passive",{get:function(){R=!0}});window.addEventListener("test",null,T)}catch(P){}var w=!!R&&{passive:!1},E=function(e){function t(){a()(this,t);var e=l()(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments));return e.state={currSt:"deactivate",dragOnEdge:!1},e._isMounted=!1,e.shouldUpdateChildren=!1,e.triggerPullToRefresh=function(){!e.state.dragOnEdge&&e._isMounted&&(e.props.refreshing?(e.props.direction===_&&(e._lastScreenY=-e.props.distanceToRefresh-1),e.props.direction===C&&(e._lastScreenY=e.props.distanceToRefresh+1),e.setState({currSt:"release"},(function(){return e.setContentStyle(e._lastScreenY)}))):e.setState({currSt:"finish"},(function(){return e.reset()})))},e.init=function(t){t&&(e._to={touchstart:e.onTouchStart.bind(e,t),touchmove:e.onTouchMove.bind(e,t),touchend:e.onTouchEnd.bind(e,t),touchcancel:e.onTouchEnd.bind(e,t)},Object.keys(e._to).forEach((function(n){t.addEventListener(n,e._to[n],w)})))},e.destroy=function(t){e._to&&t&&Object.keys(e._to).forEach((function(n){t.removeEventListener(n,e._to[n])}))},e.onTouchStart=function(t,n){e._ScreenY=e._startScreenY=n.touches[0].screenY,e._lastScreenY=e._lastScreenY||0},e.isEdge=function(t,n){var r=e.props.getScrollContainer();if(r&&r===document.body){var o=document.scrollingElement?document.scrollingElement:document.body;if(n===_)return o.scrollHeight-o.scrollTop<=window.innerHeight;if(n===C)return o.scrollTop<=0}return n===_?t.scrollHeight-t.scrollTop===t.clientHeight:n===C?t.scrollTop<=0:void 0},e.damping=function(t){return Math.abs(e._lastScreenY)>e.props.damping?0:t*=.6*(1-Math.abs(e._ScreenY-e._startScreenY)/window.screen.height)},e.onTouchMove=function(t,n){var r=n.touches[0].screenY,o=e.props.direction;if(!(o===_&&e._startScreenY<r||o===C&&e._startScreenY>r)&&e.isEdge(t,o)){e.state.dragOnEdge||(e._ScreenY=e._startScreenY=n.touches[0].screenY,e.setState({dragOnEdge:!0})),n.preventDefault();var i=Math.round(r-e._ScreenY);e._ScreenY=r,e._lastScreenY+=e.damping(i),e.setContentStyle(e._lastScreenY),Math.abs(e._lastScreenY)<e.props.distanceToRefresh?"deactivate"!==e.state.currSt&&e.setState({currSt:"deactivate"}):"deactivate"===e.state.currSt&&e.setState({currSt:"activate"}),S&&n.changedTouches[0].clientY<0&&e.onTouchEnd()}},e.onTouchEnd=function(){e.state.dragOnEdge&&e.setState({dragOnEdge:!1}),"activate"===e.state.currSt?(e.setState({currSt:"release"}),e._timer=setTimeout((function(){e.props.refreshing||e.setState({currSt:"finish"},(function(){return e.reset()})),e._timer=void 0}),1e3),e.props.onRefresh()):e.reset()},e.reset=function(){e._lastScreenY=0,e.setContentStyle(0)},e.setContentStyle=function(t){var n,r;e.contentRef&&(n=e.contentRef.style,r="translate3d(0px,"+t+"px,0)",n.transform=r,n.webkitTransform=r,n.MozTransform=r)},e}return d()(t,e),c()(t,[{key:"shouldComponentUpdate",value:function(e){return this.shouldUpdateChildren=this.props.children!==e.children,!0}},{key:"componentDidUpdate",value:function(e){e!==this.props&&e.refreshing!==this.props.refreshing&&this.triggerPullToRefresh()}},{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.init(e.props.getScrollContainer()||e.containerRef),e.triggerPullToRefresh(),e._isMounted=!0}))}},{key:"componentWillUnmount",value:function(){this.destroy(this.props.getScrollContainer()||this.containerRef)}},{key:"render",value:function(){var e=this,t=o()({},this.props);delete t.damping;var n=t.className,r=t.prefixCls,i=t.children,a=t.getScrollContainer,s=t.direction,c=(t.onRefresh,t.refreshing,t.indicator),u=(t.distanceToRefresh,g(t,["className","prefixCls","children","getScrollContainer","direction","onRefresh","refreshing","indicator","distanceToRefresh"])),l=h.a.createElement(y,{shouldUpdate:this.shouldUpdateChildren,render:function(){return i}}),f=function(t){var n=v()(t,!e.state.dragOnEdge&&r+"-transition");return h.a.createElement("div",{className:r+"-content-wrapper"},h.a.createElement("div",{className:n,ref:function(t){return e.contentRef=t}},s===_?l:null,h.a.createElement("div",{className:r+"-indicator"},c[e.state.currSt]||b[e.state.currSt]),s===C?l:null))};return a()?f(r+"-content "+r+"-"+s):h.a.createElement("div",o()({ref:function(t){return e.containerRef=t},className:v()(n,r,r+"-"+s)},u),f(r+"-content"))}}]),t}(h.a.Component),O=E;E.defaultProps={prefixCls:"rmc-pull-to-refresh",getScrollContainer:function(){},direction:C,distanceToRefresh:25,damping:100,indicator:b};t.default=O}}]);
//# sourceMappingURL=5.13a7748b.chunk.js.map