{"version":3,"sources":["scripts/views/classify/index.js"],"names":["tabs","title","text","pai","txt","num","Classify","connect","state","fenge","getIn","list","getlist","props","dispatch","changeLists","url","params","getlisty","gotoDetail","goods_id","history","push","this","changeFen","changeList","className","initialPage","onClick","map","item","i","key","src","goods_thumb","alt","goods_name","style","color","fontSize","shop_price","sale_num","size","textAlign","padding","borderLeft","name","Di","it","Component","goDa","sessionStorage","info","JSON","stringify","display","flexWrap","width","boxSizing","thumb","height","lineHeight","description"],"mappings":"8XAQMA,EAAO,CACT,CAAEC,MAAO,uBAAOC,KAAM,KAAb,6BACT,CAAED,MAAO,uBAAOC,KAAM,oBAAb,8BAGAC,EAAI,CACb,CAACC,IAAI,2BAAOC,IAAI,GAChB,CAACD,IAAI,2BAAOC,KAAK,GACjB,CAACD,IAAI,2BAAOC,KAAK,GACjB,CAACD,IAAI,2BAAOC,IAAI,IAUdC,EARLC,aACG,SAAAC,GACI,MAAO,CACHC,MAAOD,EAAME,MAAM,CAAC,OAAQ,UAC5BC,KAAMH,EAAME,MAAM,CAAC,OAAQ,Y,eAKnC,aAAc,IAAD,8BACT,+CAgBJE,QAAQ,SAACP,GACL,EAAKQ,MAAMC,SAASC,YAAY,CAC5BC,IAAI,kBACJC,OAAO,CACHZ,WArBC,EA0Bba,SAAS,SAACb,GACN,EAAKQ,MAAMC,SAASC,YAAY,CAC5BC,IAAI,kBACJC,OAAO,CACHZ,WA9BC,EAmCbc,WAAW,SAACC,GACRC,IAAQC,KAAK,WAAWF,IAlCxB,EAAKZ,MAAM,CACPL,OAHK,E,iFAMQ,IAAD,EACkBoB,KAAKV,MAA/BC,EADQ,EACRA,SADQ,EACEL,MADF,EACSE,KACzBG,EAASU,YAAU,CACfR,IAAK,qBAGTF,EAASW,YAAW,CAChBT,IAAK,sB,+BA0BH,IAAD,SAIDO,KAAKV,MAFLJ,EAFC,EAEDA,MACAE,EAHC,EAGDA,KAGJ,OACI,yBAAKe,UAAU,YAEX,uBAAM1B,KAAMA,EACR2B,YAAa,GAGb,6BACA,yBAAKD,UAAU,OACX,0BAAME,QAAS,kBAAI,EAAKhB,QAAQ,KAAhC,4BACA,0BAAMgB,QAAS,kBAAI,EAAKhB,SAAS,KAAjC,4BACA,0BAAMgB,QAAS,kBAAI,EAAKV,UAAU,KAAlC,4BACA,0BAAMU,QAAS,kBAAI,EAAKV,SAAS,KAAjC,6BAIIP,EAAKkB,KAAI,SAACC,EAAMC,GACZ,OACI,yBAAKC,IAAKD,EAAGL,UAAU,OAAOE,QAAS,kBAAI,EAAKT,WAAWW,EAAKV,YAC5D,yBAAKa,IAAKH,EAAKI,YAAaC,IAAI,KAChC,2BAAIL,EAAKM,YACT,uBAAGV,UAAU,OACT,0BAAMW,MAAO,CAAEC,MAAO,MAAOC,SAAU,UAAvC,SAAoDT,EAAKU,YACzD,8CAAUV,EAAKW,gBAOvC,6BAEQhC,EAAMoB,KAAI,SAACC,EAAMC,GACb,OACI,yBAAKC,IAAKD,GACN,uBAAYW,KAAK,OACjB,uBAAGL,MAAO,CAAEM,UAAW,OAAQJ,SAAU,SAAUK,QAAS,KAAMC,WAAY,qBAAuBf,EAAKgB,MAC1G,kBAACC,EAAD,CAAIpC,KAAMmB,EAAKnB,KAAMqC,GAAIlB,e,GAnF1CmB,e,EAiGR3C,YAER,IAAMyC,EAAb,2MACIG,KAAO,SAACF,GAEJ3B,IAAQC,KAAK,UACb6B,eAAeC,KAAOC,KAAKC,UAAUN,IAJ7C,wEAMc,IAAD,SAKDzB,KAAKV,MAHLF,EAFC,EAEDA,KAFC,EAGDqC,GAGJ,OACI,yBAAKX,MAAO,CAAEkB,QAAS,OAAQC,SAAU,SAEjC7C,EAAKkB,KAAI,SAACC,EAAMC,GAAP,OACL,yBAAKC,IAAKD,EAAGM,MAAO,CAAEoB,MAAO,MAAOb,QAAS,KAAMc,UAAW,aAAcf,UAAW,QAAUf,QAAS,kBAAM,EAAKsB,KAAKpB,KACtH,2BACI,yBAAKG,IAAKH,EAAK6B,MAAOxB,IAAI,GAAGE,MAAO,CAAEuB,OAAQ,aAElD,uBAAGvB,MAAO,CAAEE,SAAU,QAASsB,WAAY,UAAa/B,EAAKgB,MAC7D,uBAAGpB,UAAU,OAAOI,EAAKgC,sBArBrD,GAAwBb","file":"static/js/8.95345736.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\nimport \"./index.scss\";\r\nimport { connect } from \"react-redux\";\r\n\r\nimport { Tabs, WhiteSpace, Badge } from 'antd-mobile';\r\nimport { changeFen, changeList, changeLists } from \"../../actions\";\r\nimport { history } from \"~\";\r\n\r\nconst tabs = [\r\n    { title: <Badge text={'3'}>产品列表</Badge> },\r\n    { title: <Badge text={'今日(20)'}>话题分类</Badge> },\r\n\r\n];\r\nexport const pai=[\r\n    {txt:'价格升序',num:1},\r\n    {txt:'价格降序',num:-1},\r\n    {txt:'销量升序',num:-1},\r\n    {txt:'销量升序',num:1}\r\n]\r\n@connect(\r\n    state => {\r\n        return {\r\n            fenge: state.getIn(['data', 'fenge']),\r\n            list: state.getIn(['data', 'list'])\r\n        }\r\n    }\r\n)\r\nclass Classify extends Component {\r\n    constructor(){\r\n        super();\r\n        this.state={\r\n            pai\r\n        }\r\n    }\r\n    componentDidMount() {\r\n        const { dispatch, fenge, list } = this.props;\r\n        dispatch(changeFen({\r\n            url: \"/react/getfenge\"\r\n        }))\r\n\r\n        dispatch(changeList({\r\n            url: '/react/getlist'\r\n        }))\r\n        \r\n    }\r\n    getlist=(num)=>{\r\n        this.props.dispatch(changeLists({\r\n            url:'/react/getLists',\r\n            params:{\r\n                num\r\n            }\r\n        }))\r\n    }\r\n\r\n    getlisty=(num)=>{\r\n        this.props.dispatch(changeLists({\r\n            url:'/react/getListy',\r\n            params:{\r\n                num\r\n            }\r\n        }))\r\n    }\r\n\r\n    gotoDetail=(goods_id)=>{\r\n        history.push('/detail/'+goods_id)\r\n    }\r\n\r\n    render() {\r\n        const {\r\n            fenge,\r\n            list\r\n        } = this.props;\r\n\r\n        return (\r\n            <div className=\"classify\">\r\n\r\n                <Tabs tabs={tabs}\r\n                    initialPage={0}\r\n                >\r\n                    \r\n                    <div >\r\n                    <div className=\"pai\">\r\n                        <span onClick={()=>this.getlist(1)}>价格正序</span>\r\n                        <span onClick={()=>this.getlist(-1)}>价格倒序</span>\r\n                        <span onClick={()=>this.getlisty(-1)}>销量正序</span>\r\n                        <span onClick={()=>this.getlisty(1)}>销量倒序</span>\r\n                       \r\n                    </div>\r\n                        {\r\n                            list.map((item, i) => {\r\n                                return (\r\n                                    <div key={i} className=\"list\" onClick={()=>this.gotoDetail(item.goods_id)}>\r\n                                        <img src={item.goods_thumb} alt=\"\" />\r\n                                        <p>{item.goods_name}</p>\r\n                                        <p className=\"jia\">\r\n                                            <span style={{ color: 'red', fontSize: '.5rem' }}>￥{item.shop_price}</span>\r\n                                            <span>已售:{item.sale_num}</span>\r\n                                        </p>\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n                    <div >\r\n                        {\r\n                            fenge.map((item, i) => {\r\n                                return (\r\n                                    <div key={i} >\r\n                                        <WhiteSpace size=\"lg\" />\r\n                                        <p style={{ textAlign: 'left', fontSize: '0.4rem', padding: '1%', borderLeft: '5px solid orange' }}>{item.name}</p>\r\n                                        <Di list={item.list} it={item} />\r\n                                    </div>\r\n                                )\r\n                            })\r\n                        }\r\n                    </div>\r\n\r\n                </Tabs>\r\n\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default Classify;\r\n\r\nexport class Di extends Component {\r\n    goDa = (it) => {\r\n\r\n        history.push('/xiang')\r\n        sessionStorage.info = JSON.stringify(it)\r\n    }\r\n    render() {\r\n        const {\r\n            list,\r\n            it\r\n\r\n        } = this.props;\r\n        return (\r\n            <div style={{ display: 'flex', flexWrap: 'wrap' }}>\r\n                {\r\n                    list.map((item, i) => (\r\n                        <div key={i} style={{ width: '50%', padding: '1%', boxSizing: 'border-box', textAlign: 'left' }} onClick={() => this.goDa(item)} >\r\n                            <p>\r\n                                <img src={item.thumb} alt=\"\" style={{ height: '2.6rem' }} />\r\n                            </p>\r\n                            <p style={{ fontSize: '.4rem', lineHeight: '.6rem', }}>{item.name}</p>\r\n                            <p className=\"zi2\">{item.description}</p>\r\n\r\n                        </div>\r\n                    )\r\n\r\n\r\n\r\n                    )\r\n                }\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\n"],"sourceRoot":""}